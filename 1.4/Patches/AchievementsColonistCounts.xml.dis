<?xml version="1.0" encoding="utf-8" ?>
<Patch>

	<!-- Adds achievements if Vanilla Achievements Expanded is installed, adding a new tab and relevant achievements that can be obtained with this mod. -->

	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>Vanilla Achievements Expanded</li>
		</mods>
		<match Class="PatchOperationSequence">
			<success>Always</success>
			<operations>
				<li Class="ForgottenRealms.PatchOperation_SettingActive">
					<settings>
						<li>raceToggle_elfDark</li>
						<li>raceToggle_elfMoon</li>
						<li>raceToggle_elfSun</li>
						<li>raceToggle_elfWood</li>
					</settings>
					<active Class="PatchOperationSequence">
						<success>Always</success>
						<operations>
							<li Class="PatchOperationAdd">
								<xpath>/Defs</xpath>
								<value>
									<!-- Have 10 Elves (of any kind) -->
									<AchievementsExpanded.AchievementDef>
										<defName>FRealms_VAE_TenElves</defName>
										<label>Uptight Beauty</label>
										<description>Have 10 Elves (of any kind) in your colony.</description>

										<tracker Class="AchievementsExpanded.RaceDefTracker">
											<raceDefs>
											</raceDefs>
											<requireAll>false</requireAll>
										</tracker>

										<texPath>Achievements/ForgottenRealms/TenElves</texPath>
										<points>15</points>
										<tab>FRealms_AchievementTab</tab>
									</AchievementsExpanded.AchievementDef>
								</value>
							</li>
						</operations>
					</active>
				</li>
				<li Class="ForgottenRealms.PatchOperation_SettingActive">
					<settings>
						<li>raceToggle_elfDark</li>
					</settings>
					<active Class="PatchOperationSequence">
						<success>Always</success>
						<operations>
							<li Class="PatchOperationAdd">
								<xpath>/Defs/AchievementsExpanded.AchievementDef[defName="FRealms_VAE_TenElves"]/tracker[@Class="AchievementsExpanded.RaceDefTracker"]/raceDefs</xpath>
								<value>
									<li>
										<key>FRealms_DarkElf</key>
										<value>10</value>
									</li>
								</value>
							</li>
						</operations>
					</active>
				</li>
				<li Class="ForgottenRealms.PatchOperation_SettingActive">
					<settings>
						<li>raceToggle_elfMoon</li>
					</settings>
					<active Class="PatchOperationSequence">
						<success>Always</success>
						<operations>
							<li Class="PatchOperationAdd">
								<xpath>/Defs/AchievementsExpanded.AchievementDef[defName="FRealms_VAE_TenElves"]/tracker[@Class="AchievementsExpanded.RaceDefTracker"]/raceDefs</xpath>
								<value>
									<li>
										<key>FRealms_MoonElf</key>
										<value>10</value>
									</li>
								</value>
							</li>
						</operations>
					</active>
				</li>
				<li Class="ForgottenRealms.PatchOperation_SettingActive">
					<settings>
						<li>raceToggle_elfSun</li>
					</settings>
					<active Class="PatchOperationSequence">
						<success>Always</success>
						<operations>
							<li Class="PatchOperationAdd">
								<xpath>/Defs/AchievementsExpanded.AchievementDef[defName="FRealms_VAE_TenElves"]/tracker[@Class="AchievementsExpanded.RaceDefTracker"]/raceDefs</xpath>
								<value>
									<li>
										<key>FRealms_SunElf</key>
										<value>10</value>
									</li>
								</value>
							</li>
						</operations>
					</active>
				</li>
				<li Class="ForgottenRealms.PatchOperation_SettingActive">
					<settings>
						<li>raceToggle_elfWood</li>
					</settings>
					<active Class="PatchOperationSequence">
						<success>Always</success>
						<operations>
							<li Class="PatchOperationAdd">
								<xpath>/Defs/AchievementsExpanded.AchievementDef[defName="FRealms_VAE_TenElves"]/tracker[@Class="AchievementsExpanded.RaceDefTracker"]/raceDefs</xpath>
								<value>
									<li>
										<key>FRealms_WoodElf</key>
										<value>10</value>
									</li>
								</value>
							</li>
						</operations>
					</active>
				</li>
				<li Class="ForgottenRealms.PatchOperation_SettingActive">
					<settings>
						<li>raceToggle_orc</li>
					</settings>
					<active Class="PatchOperationSequence">
						<success>Always</success>
						<operations>
							<li Class="PatchOperationAdd">
								<xpath>/Defs</xpath>
								<value>
									<!-- Have 10 Orcs -->
									<AchievementsExpanded.AchievementDef>
										<defName>FRealms_VAE_TenOrcs</defName>
										<label>One Horde, One WAAGGHHH!</label>
										<description>Have 10 Orcs in your colony.</description>

										<tracker Class="AchievementsExpanded.RaceDefTracker">
											<raceDefs>
												<li>
													<key>FRealms_Orc</key>
													<value>10</value>
												</li>
											</raceDefs>
											<requireAll>false</requireAll>
										</tracker>

										<texPath>Achievements/ForgottenRealms/TenOrcs</texPath>
										<points>15</points>
										<tab>FRealms_AchievementTab</tab>
									</AchievementsExpanded.AchievementDef>
								</value>
							</li>
						</operations>
					</active>
				</li>
				<li Class="ForgottenRealms.PatchOperation_SettingActive">
					<settings>
						<li>raceToggle_kobold</li>
					</settings>
					<active Class="PatchOperationSequence">
						<success>Always</success>
						<operations>
							<li Class="PatchOperationAdd">
								<xpath>/Defs</xpath>
								<value>
									<!-- Have 10 Kobolds -->
									<AchievementsExpanded.AchievementDef>
										<defName>FRealms_VAE_TenKobolds</defName>
										<label>Small but Fiery!</label>
										<description>Have 10 Kobolds in your colony.</description>

										<tracker Class="AchievementsExpanded.RaceDefTracker">
											<raceDefs>
												<li>
													<key>FRealms_Kobold</key>
													<value>10</value>
												</li>
											</raceDefs>
											<requireAll>false</requireAll>
										</tracker>

										<texPath>Achievements/ForgottenRealms/TenKobolds</texPath>
										<points>15</points>
										<tab>FRealms_AchievementTab</tab>
									</AchievementsExpanded.AchievementDef>
								</value>
							</li>
						</operations>
					</active>
				</li>
				<li Class="ForgottenRealms.PatchOperation_SettingActive">
					<settings>
						<li>raceToggle_halforc</li>
					</settings>
					<active Class="PatchOperationSequence">
						<success>Always</success>
						<operations>
							<li Class="PatchOperationAdd">
								<xpath>/Defs</xpath>
								<value>
									<!-- Have 10 Half-Orcs -->
									<AchievementsExpanded.AchievementDef>
										<defName>FRealms_VAE_TenHalfOrcs</defName>
										<label>Mutts Across the Board</label>
										<description>Have 10 Half-Orcs in your colony.</description>

										<tracker Class="AchievementsExpanded.RaceDefTracker">
											<raceDefs>
												<li>
													<key>FRealms_HalfOrc</key>
													<value>10</value>
												</li>
											</raceDefs>
											<requireAll>false</requireAll>
										</tracker>

										<texPath>Achievements/ForgottenRealms/TenHalfOrcs</texPath>
										<points>15</points>
										<tab>FRealms_AchievementTab</tab>
									</AchievementsExpanded.AchievementDef>
								</value>
							</li>
						</operations>
					</active>
				</li>
				<li Class="ForgottenRealms.PatchOperation_SettingActive">
					<settings>
						<li>raceToggle_warforged</li>
					</settings>
					<active Class="PatchOperationSequence">
						<success>Always</success>
						<operations>
							<li Class="PatchOperationAdd">
								<xpath>/Defs</xpath>
								<value>
									<!-- Have 10 Warforged -->
									<AchievementsExpanded.AchievementDef>
										<defName>FRealms_VAE_TenWarforged</defName>
										<label>Forged In War</label>
										<description>Have 10 Warforged in your colony.</description>

										<tracker Class="AchievementsExpanded.RaceDefTracker">
											<raceDefs>
												<li>
													<key>FRealms_Warforged</key>
													<value>10</value>
												</li>
											</raceDefs>
											<requireAll>false</requireAll>
										</tracker>

										<texPath>Achievements/ForgottenRealms/TenWarforged</texPath>
										<points>15</points>
										<tab>FRealms_AchievementTab</tab>
									</AchievementsExpanded.AchievementDef>
								</value>
							</li>
						</operations>
					</active>
				</li>
				<li Class="ForgottenRealms.PatchOperation_SettingActive">
					<settings>
						<li>raceToggle_illithid</li>
					</settings>
					<active Class="PatchOperationSequence">
						<success>Always</success>
						<operations>
							<li Class="PatchOperationAdd">
								<xpath>/Defs</xpath>
								<value>
									<!-- Have 10 Illithids -->
									<AchievementsExpanded.AchievementDef>
										<defName>FRealms_VAE_TenIllithids</defName>
										<label>Japan Prepared Me for This</label>
										<description>Have 10 Illithids in your colony.</description>

										<tracker Class="AchievementsExpanded.RaceDefTracker">
											<raceDefs>
												<li>
													<key>FRealms_Illithid</key>
													<value>10</value>
												</li>
											</raceDefs>
											<requireAll>false</requireAll>
										</tracker>

										<texPath>Achievements/ForgottenRealms/TenIllithids</texPath>
										<points>15</points>
										<tab>FRealms_AchievementTab</tab>
									</AchievementsExpanded.AchievementDef>
								</value>
							</li>
						</operations>
					</active>
				</li>
				<li Class="ForgottenRealms.PatchOperation_SettingActive">
					<settings>
						<li>raceToggle_gith</li>
					</settings>
					<active Class="PatchOperationSequence">
						<success>Always</success>
						<operations>
							<li Class="PatchOperationAdd">
								<xpath>/Defs</xpath>
								<value>
									<!-- Have 10 Gith -->
									<AchievementsExpanded.AchievementDef>
										<defName>FRealms_VAE_TenGith</defName>
										<label>Gith it to Me Baby, AHA AHA</label>
										<description>Have 10 Gith in your colony.</description>

										<tracker Class="AchievementsExpanded.RaceDefTracker">
											<raceDefs>
												<li>
													<key>FRealms_Gith</key>
													<value>10</value>
												</li>
											</raceDefs>
											<requireAll>false</requireAll>
										</tracker>

										<texPath>Achievements/ForgottenRealms/TenGith</texPath>
										<points>15</points>
										<tab>FRealms_AchievementTab</tab>
									</AchievementsExpanded.AchievementDef>
								</value>
							</li>
						</operations>
					</active>
				</li>
				<li Class="ForgottenRealms.PatchOperation_SettingActive">
					<settings>
						<li>raceToggle_goblin</li>
					</settings>
					<active Class="PatchOperationSequence">
						<success>Always</success>
						<operations>
							<li Class="PatchOperationAdd">
								<xpath>/Defs</xpath>
								<value>
									<!-- Have 10 Goblins -->
									<AchievementsExpanded.AchievementDef>
										<defName>FRealms_VAE_TenGoblins</defName>
										<label>They Don't Smell THAT Bad...</label>
										<description>Have 10 Goblins in your colony.</description>

										<tracker Class="AchievementsExpanded.RaceDefTracker">
											<raceDefs>
												<li>
													<key>FRealms_Goblin</key>
													<value>10</value>
												</li>
											</raceDefs>
											<requireAll>false</requireAll>
										</tracker>

										<texPath>Achievements/ForgottenRealms/TenGoblins</texPath>
										<points>15</points>
										<tab>FRealms_AchievementTab</tab>
									</AchievementsExpanded.AchievementDef>
								</value>
							</li>
						</operations>
					</active>
				</li>
				<li Class="ForgottenRealms.PatchOperation_SettingActive">
					<settings>
						<li>raceToggle_hobgoblin</li>
					</settings>
					<active Class="PatchOperationSequence">
						<success>Always</success>
						<operations>
							<li Class="PatchOperationAdd">
								<xpath>/Defs</xpath>
								<value>
									<!-- Have 10 Hobgoblins -->
									<AchievementsExpanded.AchievementDef>
										<defName>FRealms_VAE_TenHobgoblins</defName>
										<label>Hobbling Along</label>
										<description>Have 10 Hobgoblins in your colony.</description>

										<tracker Class="AchievementsExpanded.RaceDefTracker">
											<raceDefs>
												<li>
													<key>FRealms_Hobgoblin</key>
													<value>10</value>
												</li>
											</raceDefs>
											<requireAll>false</requireAll>
										</tracker>

										<texPath>Achievements/ForgottenRealms/TenHobgoblins</texPath>
										<points>15</points>
										<tab>FRealms_AchievementTab</tab>
									</AchievementsExpanded.AchievementDef>
								</value>
							</li>
						</operations>
					</active>
				</li>
				<li Class="ForgottenRealms.PatchOperation_SettingActive">
					<settings>
						<li>raceToggle_tiefling</li>
					</settings>
					<active Class="PatchOperationSequence">
						<success>Always</success>
						<operations>
							<li Class="PatchOperationAdd">
								<xpath>/Defs</xpath>
								<value>
									<!-- Have 10 Tieflings -->
									<AchievementsExpanded.AchievementDef>
										<defName>FRealms_VAE_TenTieflings</defName>
										<label>Mess With the Devil, Get the Horns!</label>
										<description>Have 10 Tieflings in your colony.</description>

										<tracker Class="AchievementsExpanded.RaceDefTracker">
											<raceDefs>
												<li>
													<key>FRealms_Tiefling</key>
													<value>10</value>
												</li>
											</raceDefs>
											<requireAll>false</requireAll>
										</tracker>

										<texPath>Achievements/ForgottenRealms/TenTieflings</texPath>
										<points>15</points>
										<tab>FRealms_AchievementTab</tab>
									</AchievementsExpanded.AchievementDef>
								</value>
							</li>
						</operations>
					</active>
				</li>
				<li Class="ForgottenRealms.PatchOperation_SettingActive">
					<settings>
						<li>raceToggle_dwarf</li>
					</settings>
					<active Class="PatchOperationSequence">
						<success>Always</success>
						<operations>
							<li Class="PatchOperationAdd">
								<xpath>/Defs</xpath>
								<value>
									<!-- Have 10 Dwarves -->
									<AchievementsExpanded.AchievementDef>
										<defName>FRealms_VAE_TenDwarves</defName>
										<label>And They Call it a MINE!</label>
										<description>Have 10 Dwarves in your colony.</description>

										<tracker Class="AchievementsExpanded.RaceDefTracker">
											<raceDefs>
												<li>
													<key>FRealms_Dwarf</key>
													<value>10</value>
												</li>
											</raceDefs>
											<requireAll>false</requireAll>
										</tracker>

										<texPath>Achievements/ForgottenRealms/TenDwarves</texPath>
										<points>15</points>
										<tab>FRealms_AchievementTab</tab>
									</AchievementsExpanded.AchievementDef>
								</value>
							</li>
						</operations>
					</active>
				</li>
				<li Class="ForgottenRealms.PatchOperation_SettingActive">
					<settings>
						<li>raceToggle_elfDark</li>
						<li>raceToggle_elfMoon</li>
						<li>raceToggle_elfSun</li>
						<li>raceToggle_elfWood</li>

						<li>raceToggle_dwarf</li>
						<li>raceToggle_gith</li>
						<li>raceToggle_goblin</li>
						<li>raceToggle_halforc</li>
						<li>raceToggle_hobgoblin</li>
						<li>raceToggle_illithid</li>
						<li>raceToggle_kobold</li>
						<li>raceToggle_orc</li>
						<li>raceToggle_tiefling</li>
						<li>raceToggle_warforged</li>
					</settings>
					<active Class="PatchOperationSequence">
						<success>Always</success>
						<operations>
							<li Class="PatchOperationAdd">
								<xpath>/Defs</xpath>
								<value>
									<!-- Have One of Each -->
									<!--AchievementsExpanded.AchievementDef>
										<defName>FRealms_VAE_FROneOfEach</defName>
										<label>Fantastical Melting Pot</label>
										<description>Have one of each race in your colony. (Each Elf subrace is counted separately)</description>

										<tracker Class="AchievementsExpanded.RaceDefTracker">
											<raceDefs>
												<li>
													<key>FRealms_Dwarf</key>
													<value>1</value>
												</li>
												<li>
													<key>FRealms_Tiefling</key>
													<value>1</value>
												</li>
												<li>
													<key>FRealms_SunElf</key>
													<value>1</value>
												</li>
												<li>
													<key>FRealms_WoodElf</key>
													<value>1</value>
												</li>
												<li>
													<key>FRealms_MoonElf</key>
													<value>1</value>
												</li>
												<li>
													<key>FRealms_DarkElf</key>
													<value>1</value>
												</li>
												<li>
													<key>FRealms_Gith</key>
													<value>1</value>
												</li>
												<li>
													<key>FRealms_Goblin</key>
													<value>1</value>
												</li>
												<li>
													<key>FRealms_Hobgoblin</key>
													<value>1</value>
												</li>
												<li>
													<key>FRealms_HalfOrc</key>
													<value>1</value>
												</li>
												<li>
													<key>FRealms_Orc</key>
													<value>1</value>
												</li>
												<li>
													<key>FRealms_Warforged</key>
													<value>1</value>
												</li>
												<li>
													<key>FRealms_Illithid</key>
													<value>1</value>
												</li>
												<li>
													<key>FRealms_Kobold</key>
													<value>1</value>
												</li>
											</raceDefs>
											<requireAll>true</requireAll>
										</tracker>

										<texPath>Achievements/ForgottenRealms/OneOfAll</texPath>
										<points>25</points>
										<tab>FRealms_AchievementTab</tab>
									</AchievementsExpanded.AchievementDef -->
								</value>
							</li>
						</operations>
					</active>
				</li>
			</operations>
		</match>
	</Operation>

</Patch>